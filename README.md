# KeyDoorEnv Project: RL Environment with Key and Door Mechanics

This repository contains the "KeyDoorEnv" project, featuring a custom Reinforcement Learning (RL) environment built with the [Gymnasium](https://gymnasium.farama.org/) library, and a script demonstrating its solution using the Q-learning algorithm.

## Environment Description

`KeyDoorEnv` is a grid-world environment where an agent must learn to navigate a map, collect two distinct types of keys (e.g., gold and silver), use them to open corresponding doors, avoid traps, and ultimately reach a designated goal.

**Key Features:**
*   **Dual Key/Door System:** The agent needs to find Key Type 1 to open Door Type 1, and Key Type 2 to open Door Type 2, potentially in a sequence determined by the map layout.
*   **Configurable Maps:** Supports various map layouts with different arrangements of keys, doors, traps, and the goal.
*   **Reward System:** Designed to guide the agent towards collecting keys, opening doors, and reaching the goal, while penalizing inefficient moves or falling into traps.
*   **Visualization:** The environment can be rendered using Pygame, with optional sprites for a richer visual experience or default colored rectangles.

## Project Structure

*   `gymnasium_env/`: Contains the installable package for the custom environment.
    *   `gymnasium_env/envs/`: Location of the main environment file.
        *   `KeyDoorEnv.py`: Defines the `KeyDoorEnv` class.
        *   `__init__.py`: Exports the environment class.
    *   `gymnasium_env/__init__.py`: Registers `KeyDoorEnv` with Gymnasium, allowing creation via `gym.make()`.
    *   `pyproject.toml`: Build system and project metadata for package installation.
*   `assets/`: Contains image files (e.g., `player.png`, `key_gold.png`). 
*   `q_learning_keydoor.py`: Main Python script for training a Q-learning agent in `KeyDoorEnv` and demonstrating its performance.
*   `learning_results_[map_name]/` (generated by the script): Stores saved Q-tables and training progress plots.
*   `README.md`: This file.

## Installation

To use the `KeyDoorEnv` custom environment:

1.  Clone this repository:
    ```bash
    git clone https://github.com/PiotrWaluszek/key-door.git
    cd key-door
    ```
2.  Navigate to the environment package directory and install it in editable mode:
    ```bash
    cd gymnasium_env
    pip install -e .
    ```
    The `-e` flag allows changes in the environment code to be immediately effective without reinstallation.

## Requirements

The main libraries required for this project are:
*   `gymnasium`
*   `pygame`
*   `numpy`
*   `matplotlib`
*   `pillow` (if using advanced sprite loading with `PIL.Image` in your assets pipeline)

Install them using pip:
```bash
pip install gymnasium pygame numpy matplotlib pillow
```

**It is recommended to use a virtual environment.**

## Usage

After installing the environment, the Q-learning training script can be run:

```bash
python run_q_learning_keydoor.py
```

> **Note:** Use code with caution.

## ðŸ‘¥ Authors

| Name | GitHub Profile |
|------|----------------|
| **Piotr Waluszek** | [@PiotrWaluszek](https://github.com/PiotrWaluszek) |
| **Bartosz WarchoÅ‚** | [@bartex-bartex](https://github.com/bartex-bartex) |

